<LOAD>
  <timestamp/>
</LOAD>
<SOFTWARE>
  <formatter name="some software" vers="9.8.7654"/>
  <loader date="Jul  2 2015" name="general-loader" vers="0.0.1"/>
</SOFTWARE>
<schema name="NCBI:align:db:alignment_sorted#1.3">
  'version 1;typedef I64 vdb:row_id_range[2];typedef ascii INSDC:dna:text;alias INSDC:dna:text INSDC:fasta;typedef U8 INSDC:4na:bin;typedef B1 INSDC:4na:packed[4];alias INSDC:4na:packed INSDC:dna:4na;typedef U8 INSDC:2na:bin;typedef U8 INSDC:x2na:bin;typedef B1 INSDC:2na:packed[2];alias INSDC:2na:packed INSDC:dna:2na;alias INSDC:2na:packed NCBI:2na;typedef ascii INSDC:color:text;typedef U8 INSDC:2cs:bin;typedef U8 INSDC:x2cs:bin;typedef B1 INSDC:2cs:packed[2];alias INSDC:2cs:packed INSDC:color:2cs;alias INSDC:2cs:packed NCBI:2cs;typedef U8 INSDC:quality:phred;alias INSDC:quality:phred NCBI:qual1;typedef I8 INSDC:quality:log_odds;typedef ascii INSDC:quality:text:phred_33;typedef ascii INSDC:quality:text:phred_64;typedef I32 INSDC:coord:val;typedef U32 INSDC:coord:len;typedef INSDC:coord:val INSDC:coord:zero;typedef INSDC:coord:val INSDC:coord:one;typedef U32 INSDC:SRA:spotid_t;typedef U64 INSDC:SRA:spot_ids_found[4];typedef U8 INSDC:SRA:read_filter;alias INSDC:SRA:read_filter NCBI:SRA:read_filter;typedef U8 INSDC:SRA:xread_type;typedef INSDC:SRA:xread_type INSDC:SRA:read_type;alias INSDC:SRA:read_type NCBI:SRA:read_type;typedef U8 INSDC:SRA:platform_id;alias INSDC:SRA:platform_id NCBI:SRA:platform_id;typedef U16 NCBI:SRA:Segment[2];typedef B8 NCBI:SRA:SpotDesc[16];typedef B8 NCBI:SRA:ReadDesc[80];typedef U32 NCBI:align:ploidy;typedef U8 NCBI:align:ro_type;typeset text_set{utf8,utf16,utf32,ascii};typeset text8_set{utf8,ascii};typeset pack_set{B8,B16,B32,B64,U8,U16,U32,U64,I8,I16,I32,I64};typeset izip_set{U8,U16,U32,U64,I8,I16,I32,I64};typeset NCBI:SRA:stats:qual_type{INSDC:quality:phred,INSDC:quality:log_odds,INSDC:quality:log_odds[4]};fmtdef izip_fmt;fmtdef zlib_fmt;extern function any cast#1(any in)=vdb:cast;extern function &lt;type T&gt;T bit_or#1&lt;U8 align&gt;(T A,T B)=vdb:bit_or;extern function &lt;type T&gt;T trim#1&lt;U8 align,T val&gt;(T A)=vdb:trim;extern function I64 row_id#1()=vdb:row_id;extern function U32 row_len#1(any in)=vdb:row_len;extern function U32 fixed_row_len#1(any in)=vdb:fixed_row_len;validate function &lt;type T&gt;void compare#1&lt;*U32 sig_bits&gt;(T src,T cmp)=vdb:compare;extern function &lt;type T&gt;T range_validate#1&lt;T lower,T upper&gt;(T in)=vdb:range_validate;extern function &lt;type T&gt;T meta:read#1&lt;ascii node*bool deterministic&gt;();extern function &lt;type T&gt;T meta:value#1&lt;ascii node*bool deterministic&gt;();extern function text8_set idx:text:project#1&lt;ascii index_name&gt;(*text8_set substitute);extern function text8_set idx:text:insert#1&lt;ascii index_name&gt;(text8_set key);extern function vdb:row_id_range idx:text:lookup#1&lt;ascii index_name,ascii query_by_name&gt;();extern function &lt;type T&gt;T echo#1&lt;T val&gt;(*any row_len)=vdb:echo;extern function &lt;type A,type B&gt;B map#1&lt;A from,B to&gt;(A in*B src)=vdb:map;extern function &lt;type T&gt;T clip#1&lt;T lower,T upper&gt;(T in)=vdb:clip;extern function &lt;type T&gt;T sum#1&lt;*T k&gt;(T a,...)=vdb:sum;extern function &lt;type T&gt;T diff#1&lt;*T k&gt;(T a*T b)=vdb:diff;extern function &lt;type T&gt;T add_row_id#1(T in)=vdb:add_row_id;extern function &lt;type T&gt;T sub_row_id#1(T in)=vdb:sub_row_id;extern function &lt;type T&gt;T[*] cut#1&lt;U32 idx,...&gt;(T[*] in)=vdb:cut;extern function &lt;type T&gt;T[*] paste#1(T[*] in,...)=vdb:paste;extern function B1[*] pack#1(pack_set in)=vdb:pack;extern function pack_set unpack#1(B1[*] in)=vdb:unpack;extern function izip_fmt izip#2.1(izip_set in)=vdb:izip;extern function izip_set iunzip#2.1(izip_fmt in)=vdb:iunzip;extern function zlib_fmt zip#1&lt;*I32 strategy,I32 level&gt;(any in)=vdb:zip;extern function any unzip#1(zlib_fmt in)=vdb:unzip;extern function &lt;type T&gt;T simple_sub_select#1&lt;ascii tbl,ascii col&gt;(I64 row*I32 idx)=vdb:simple_sub_select_1;extern function text_set sprintf#1&lt;ascii fmt&gt;(any p1,...)=vdb:sprintf;extern function INSDC:2na:bin INSDC:SEQ:rand_4na_2na#1(INSDC:4na:bin rd_bin);extern function ascii INSDC:SRA:format_spot_name#1(ascii name_fmt,I32 X,I32 Y*ascii spot_name);extern function ascii INSDC:SRA:format_spot_name_no_coord#1(ascii name_fmt*ascii spot_name);extern function INSDC:x2cs:bin NCBI:color_from_dna#1(INSDC:x2na:bin bin_x2na,INSDC:coord:zero read_start,INSDC:coord:len read_len,INSDC:dna:text cs_key,U8 color_matrix);extern function INSDC:x2na:bin NCBI:dna_from_color#1(INSDC:x2cs:bin color_bin,INSDC:coord:zero read_start,INSDC:coord:len read_len,INSDC:dna:text cs_key,U8 color_matrix);extern function U8 NCBI:SRA:stats_trigger#1(U8 read_bin,U32 read_len,INSDC:SRA:xread_type read_type*ascii spot_group);extern function U8 NCBI:SRA:cmp_stats_trigger#1(B8 cmp_read_bin,NCBI:SRA:stats:qual_type qual_bin,U32 read_len,INSDC:SRA:xread_type read_type*ascii spot_group);extern function U8 NCBI:SRA:cmpf_stats_trigger#1(B8 cmp_read_bin,U32 spot_len,U32 read_len,INSDC:SRA:xread_type read_type*ascii spot_group);extern function U8 NCBI:SRA:phred_stats_trigger#1(INSDC:quality:phred qual_bin);extern function INSDC:coord:len[2] NCBI:SRA:fix_read_seg#1(U16[2] rd_seg,INSDC:coord:len spot_len);extern function NCBI:SRA:SpotDesc NCBI:SRA:make_spot_desc#1(INSDC:coord:len spot_len,INSDC:coord:len fixed_len,INSDC:coord:len sig_len,INSDC:coord:zero trim_start,INSDC:coord:len trim_len,U8 num_reads);extern function NCBI:SRA:ReadDesc NCBI:SRA:make_read_desc#1(U8 num_reads,INSDC:coord:zero read_start,INSDC:coord:len read_len,INSDC:SRA:xread_type read_type,INSDC:SRA:read_filter read_filt,INSDC:dna:text cs_key,INSDC:coord:zero label_start,INSDC:coord:len label_len,ascii label);extern function &lt;type T&gt;T NCBI:align:cigar#2&lt;U8 ctype&gt;(bool has_mismatch,bool has_ref_offset,I32 ref_offset,INSDC:coord:len read_len*INSDC:coord:len ref_len,NCBI:align:ro_type ref_offset_type)=ALIGN:cigar_2;extern function U32 NCBI:align:edit_distance#1(bool has_mismatch,bool has_ref_offset,I32 ref_offset);extern function U32 NCBI:align:edit_distance#2(bool has_mismatch,bool has_ref_offset,I32 ref_offset,INSDC:coord:len ref_len*INSDC:coord:len read_len)=NCBI:align:edit_distance_2;extern function U32 NCBI:align:edit_distance#3(bool has_mismatch,bool has_ref_offset,I32 ref_offset,NCBI:align:ro_type ref_offset_type,INSDC:coord:len read_len)=NCBI:align:edit_distance_3;extern function ascii NCBI:align:rna_orientation#1(NCBI:align:ro_type ref_offset_type);extern function &lt;type T&gt;T NCBI:align:project_from_sequence#1&lt;ascii col&gt;(I64 seq_spot_id,INSDC:coord:one seq_read_id)=ALIGN:project_from_sequence;extern function INSDC:4na:bin NCBI:align:align_restore_read#1(INSDC:4na:bin ref_read,bool has_mismatch,INSDC:4na:bin mismatch,bool has_ref_offset,I32 ref_offset*INSDC:coord:len read_len)=ALIGN:align_restore_read;extern function INSDC:4na:bin NCBI:align:raw_restore_read#1(INSDC:4na:bin align_read,bool ref_orientation)=ALIGN:raw_restore_read;extern function INSDC:quality:phred NCBI:align:raw_restore_qual#1(INSDC:quality:phred align_qual,bool ref_orientation);extern function INSDC:4na:bin NCBI:align:ref_sub_select#1(I64 id,INSDC:coord:zero start,INSDC:coord:len len*U32 ref_ploidy)=ALIGN:ref_sub_select;extern function INSDC:4na:bin NCBI:align:ref_restore_read#1(INSDC:4na:bin cmp_rd,ascii seq_id,INSDC:coord:one seq_start,INSDC:coord:len seq_len)=ALIGN:ref_restore_read;extern function INSDC:4na:bin NCBI:align:seq_restore_read#1(INSDC:4na:bin cmp_rd,I64 align_id,INSDC:coord:len read_len,INSDC:SRA:xread_type rd_type)=ALIGN:seq_restore_read;extern function bool NCBI:align:generate_has_mismatch#1(INSDC:4na:bin reference,INSDC:4na:bin subject,bool has_ref_offset,I32 ref_offset)=ALIGN:generate_has_mismatch;extern function INSDC:4na:bin NCBI:align:generate_mismatch#1(INSDC:4na:bin reference,INSDC:4na:bin subject,bool has_ref_offset,I32 ref_offset)=ALIGN:generate_mismatch;extern function INSDC:coord:zero NCBI:align:ref_pos#1(I64 ref_id,INSDC:coord:zero ref_start);extern function ascii NCBI:align:ref_name#1(I64 ref_id);extern function ascii NCBI:align:ref_seq_id#1(I64 ref_id);extern function I64 NCBI:align:local_ref_id#1(U64 global_ref_start);extern function INSDC:coord:zero NCBI:align:local_ref_start#1(U64 global_ref_start);extern function I32 NCBI:align:template_len#1(INSDC:coord:zero pos,INSDC:coord:zero mate_pos,INSDC:coord:len reflen,INSDC:coord:len mate_reflen,ascii ref_name,ascii mate_ref_name,INSDC:coord:one read_id);extern function U32 NCBI:align:get_sam_flags#1(INSDC:coord:len read_len,INSDC:coord:one read_id,I32 template_len,bool strand,bool mate_strand,bool is_secondary*INSDC:SRA:read_filter filter);extern function U32 NCBI:align:get_sam_flags#2(I64 mate_id,INSDC:coord:one read_id,I32 template_len,bool strand,bool mate_strand,bool is_secondary*INSDC:SRA:read_filter filter)=NCBI:align:get_sam_flags_2;extern function INSDC:coord:len NCBI:align:get_left_soft_clip#2(bool has_ref_offset,I32 ref_offset,INSDC:coord:len read_len)=NCBI:align:get_left_soft_clip_2;extern function INSDC:coord:len NCBI:align:get_right_soft_clip#2(bool has_mismatch,INSDC:coord:len left_clip,bool has_ref_offset,I32 ref_offset)=NCBI:align:get_right_soft_clip_2;extern function INSDC:coord:len NCBI:align:get_right_soft_clip#3(bool has_ref_offset,I32 ref_offset,INSDC:coord:len ref_len)=NCBI:align:get_right_soft_clip_3;extern function INSDC:coord:len NCBI:align:get_right_soft_clip#4(bool has_ref_offset,I32 ref_offset,INSDC:coord:len read_len,INSDC:coord:len ref_len)=NCBI:align:get_right_soft_clip_4;extern function INSDC:coord:len NCBI:align:get_right_soft_clip#5(bool has_ref_offset,I32 ref_offset,NCBI:align:ro_type ref_offset_type,INSDC:coord:len read_len)=NCBI:align:get_right_soft_clip_5;extern function &lt;type T&gt;T NCBI:align:get_clipped_cigar#2(ascii cigar,INSDC:coord:len cigar_len)=NCBI:align:get_clipped_cigar_2;extern function I32 NCBI:align:get_clipped_ref_offset#1(bool has_ref_offset,I32 ref_offset);extern function &lt;type T&gt;T NCBI:align:clip#1(T object,INSDC:coord:len left_clip,INSDC:coord:len right_clip);extern function &lt;type T&gt;T NCBI:align:clip#2(T object,INSDC:coord:len read_len,INSDC:coord:len left_clip,INSDC:coord:len right_clip)=NCBI:align:clip_2;extern function INSDC:coord:len NCBI:align:get_ref_len#1(bool has_ref_offset,I32 ref_offset*INSDC:coord:len right_clip);extern function INSDC:coord:len NCBI:align:get_ref_len_2#2(bool has_ref_offset,I32 ref_offset)=NCBI:align:get_ref_len_2;extern function ascii NCBI:align:get_mismatch_read#1(bool has_mismatch,INSDC:dna:text mismatch);extern function bool NCBI:align:get_ref_mismatch#1(bool has_mismatch,bool has_ref_offset,I32 ref_offset,INSDC:coord:len ref_len);extern function bool NCBI:align:get_ref_insert#1(bool has_mismatch,bool has_ref_offset,I32 ref_offset,INSDC:coord:len ref_len);extern function bool NCBI:align:get_ref_delete#1(bool has_mismatch,bool has_ref_offset,I32 ref_offset,INSDC:coord:len ref_len);extern function INSDC:coord:zero NCBI:align:make_read_start#1(INSDC:coord:len read_len);extern function &lt;type T&gt;T NCBI:align:make_cmp_read_desc#1&lt;bool invert&gt;(T operand,I64 align_id);extern function &lt;type T&gt;T NCBI:align:seq_construct_read#1(T aligned,INSDC:coord:len aligned_read_len,T unaligned,INSDC:coord:len unaligned_read_len);extern function I64 NCBI:align:get_mate_align_id#1(I64 spot_id);physical &lt;type T&gt;T izip_encoding#1{encode{return izip#2.1(@);}decode{return (T)iunzip#2.1(@);}}physical &lt;type T&gt;T zip_encoding#1&lt;*I32 strategy,I32 level&gt;{encode{return zip#1&lt;strategy,level&gt;(@);}decode{return unzip#1(@);}}physical bool bool_encoding#1{encode{U8 lim=&lt;U8&gt;clip#1&lt;0,1&gt;(@);B1 bit=pack#1(lim);return zip#1&lt;3,1&gt;(bit);}decode{B1 bit=unzip#1(@);return (bool)unpack#1(bit);}}table INSDC:tbl:sequence#1.0.1{default column INSDC:dna:text READ{read=out_dna_text;validate=&lt;INSDC:dna:text&gt;compare#1(in_dna_text,out_dna_text);}column INSDC:4na:bin READ = out_4na_bin;column INSDC:4na:packed READ = out_4na_packed;column INSDC:x2na:bin READ = out_x2na_bin;column INSDC:2na:bin READ = out_2na_bin;column INSDC:2na:packed READ = out_2na_packed;default column INSDC:color:text CSREAD{read=out_color_text;validate=&lt;INSDC:color:text&gt;compare#1(in_color_text,out_color_text);}column INSDC:x2cs:bin CSREAD = out_x2cs_bin;column INSDC:2cs:bin CSREAD = out_2cs_bin;column INSDC:2cs:packed CSREAD = out_2cs_packed;readonly column bool CS_NATIVE = cs_native;column INSDC:dna:text CS_KEY{read=out_cs_key;validate=&lt;INSDC:dna:text&gt;compare#1(in_cs_key,out_cs_key);}column U8 COLOR_MATRIX = out_color_matrix;default column INSDC:quality:phred QUALITY = out_qual_phred;column INSDC:quality:text:phred_33 QUALITY = out_qual_text_phred_33|(INSDC:quality:text:phred_33)&lt;B8&gt;sum#1&lt;33&gt;(out_qual_phred);column INSDC:quality:text:phred_64 QUALITY = out_qual_text_phred_64|(INSDC:quality:text:phred_64)&lt;B8&gt;sum#1&lt;64&gt;(out_qual_phred);INSDC:coord:len signal_len=(INSDC:coord:len)row_len#1(out_signal)|&lt;INSDC:coord:len&gt;echo#1&lt;0&gt;();}table INSDC:SRA:tbl:spotcoord#1{default column INSDC:coord:val X = out_x_coord;default column INSDC:coord:val Y = out_y_coord;readonly column U16 X = cast#1(x_clip_U16);readonly column U16 Y = cast#1(y_clip_U16);INSDC:coord:val x_clip_U16=&lt;INSDC:coord:val&gt;clip#1&lt;0,65535&gt;(out_x_coord);INSDC:coord:val y_clip_U16=&lt;INSDC:coord:val&gt;clip#1&lt;0,65535&gt;(out_y_coord);}table INSDC:SRA:tbl:spotname#1.0.1=INSDC:SRA:tbl:spotcoord#1{column ascii NAME = _out_name;readonly column INSDC:SRA:spot_ids_found SPOT_IDS_FOUND = spot_ids_found;ascii _out_name=INSDC:SRA:format_spot_name#1(out_name_fmt,out_x_coord,out_y_coord,out_spot_name)|INSDC:SRA:format_spot_name#1(out_name_fmt,out_x_coord,out_y_coord)|INSDC:SRA:format_spot_name_no_coord#1(out_name_fmt)|out_spot_name;}table INSDC:SRA:tbl:spotdesc#1.0.2=INSDC:tbl:sequence#1.0.1{column U8 NREADS = out_nreads;readonly column INSDC:coord:len SPOT_LEN = spot_len;readonly column INSDC:coord:len FIXED_SPOT_LEN = fixed_spot_len;readonly column INSDC:coord:zero TRIM_START = trim_start|&lt;INSDC:coord:zero&gt;echo#1&lt;0&gt;();readonly column INSDC:coord:one TRIM_START = (INSDC:coord:one)&lt;I32&gt;sum#1&lt;1&gt;(trim_start)|&lt;INSDC:coord:one&gt;echo#1&lt;1&gt;();readonly column INSDC:coord:len TRIM_LEN = trim_len|spot_len;column ascii LABEL = out_label;column INSDC:coord:zero LABEL_START = out_label_start;column INSDC:coord:len LABEL_LEN = out_label_len;readonly column U16 LABEL_START = cast#1(out_label_start);readonly column U16 LABEL_LEN = cast#1(out_label_len);default column INSDC:SRA:xread_type READ_TYPE = out_read_type;readonly column INSDC:SRA:read_type READ_TYPE = out_read_type|&lt;INSDC:SRA:xread_type,INSDC:SRA:read_type&gt;map#1&lt;[0,1,2,3,4,5,6,7],[0,1,0,1,0,1,0,1]&gt;(out_read_type);default column INSDC:coord:zero READ_START = out_read_start;column INSDC:coord:one READ_START = (INSDC:coord:one)&lt;I32&gt;sum#1&lt;1&gt;(out_read_start);column INSDC:coord:len READ_LEN = out_read_len;readonly column U16 READ_START = cast#1(out_read_start);readonly column U16 READ_LEN = cast#1(out_read_len);column INSDC:SRA:read_filter READ_FILTER = out_rd_filter|&lt;INSDC:SRA:read_filter&gt;echo#1&lt;0&gt;(out_read_start);readonly column INSDC:SRA:read_filter RD_FILTER = out_rd_filter;INSDC:SRA:xread_type in_read_type=READ_TYPE|_alt_in_read_type;INSDC:coord:len in_read_len=READ_LEN|_alt_in_read_len;INSDC:coord:len spot_len=base_space_spot_len|color_space_spot_len|align_spot_len;INSDC:coord:len fixed_spot_len=static_fixed_spot_len|base_space_fixed_spot_len|color_space_fixed_spot_len;}table INSDC:SRA:tbl:stats#1.1{readonly column INSDC:SRA:spotid_t MIN_SPOT_ID = min_spot_id|&lt;INSDC:SRA:spotid_t&gt;echo#1&lt;1&gt;();readonly column INSDC:SRA:spotid_t MAX_SPOT_ID = max_spot_id|cast#1(spot_count);readonly column U64 SPOT_COUNT = spot_count;readonly column U64 BASE_COUNT = base_count;readonly column U64 BIO_BASE_COUNT = bio_base_count;readonly column U64 CMP_BASE_COUNT = cmp_base_count|base_count;U8 stats_dummy=in_stats_bin;}table INSDC:SRA:tbl:sra#1.0.3=INSDC:tbl:sequence#1.0.1,INSDC:SRA:tbl:spotname#1.0.1,INSDC:SRA:tbl:spotdesc#1.0.2,INSDC:SRA:tbl:stats#1.1{column INSDC:SRA:platform_id PLATFORM = .PLATFORM|out_platform;readonly column ascii PLATFORM = platform_name;column INSDC:SRA:spotid_t SPOT_ID = &lt;INSDC:SRA:spotid_t&gt;add_row_id#1(.SPOT_ID)|cast#1(rowid_64);column ascii SPOT_GROUP = out_spot_group|.SPOT_GROUP|&lt;ascii&gt;echo#1&lt;''&gt;();I64 rowid_64=row_id#1();ascii in_spot_group=SPOT_GROUP;physical column &lt;INSDC:SRA:platform_id&gt;zip_encoding#1 .PLATFORM=PLATFORM;physical column &lt;INSDC:SRA:spotid_t&gt;izip_encoding#1 .SPOT_ID=&lt;INSDC:SRA:spotid_t&gt;sub_row_id#1(SPOT_ID);physical column &lt;ascii&gt;zip_encoding#1&lt;0,1&gt; .SPOT_GROUP=in_spot_group;}table NCBI:tbl:seqloc#1{column &lt;ascii&gt;zip_encoding#1 SEQ_ID;column &lt;INSDC:coord:one&gt;izip_encoding#1 SEQ_START;readonly column INSDC:coord:zero SEQ_START = (INSDC:coord:zero)&lt;INSDC:coord:one&gt;diff#1&lt;1&gt;(.SEQ_START);column &lt;INSDC:coord:len&gt;izip_encoding#1 SEQ_LEN;}table NCBI:tbl:dcmp_base_space#1{INSDC:dna:text dcmp_virtual_productions=out_dcmp_4na_bin|out_dcmp_x2na_bin|out_dcmp_2na_bin|out_dcmp_2na_packed;}table NCBI:tbl:base_space_common#1.0.3=INSDC:tbl:sequence#1.0.1,INSDC:SRA:tbl:spotdesc#1.0.2,INSDC:SRA:tbl:stats#1.1,NCBI:tbl:dcmp_base_space#1{bool cs_native=&lt;bool&gt;echo#1&lt;false&gt;();INSDC:dna:text out_cs_key=.CS_KEY|&lt;INSDC:dna:text&gt;echo#1&lt;'T'&gt;(out_read_type)|&lt;INSDC:dna:text&gt;echo#1&lt;'T'&gt;(out_read_len)|&lt;INSDC:dna:text&gt;echo#1&lt;'T'&gt;();INSDC:2cs:bin out_2cs_bin=&lt;INSDC:x2cs:bin,INSDC:2cs:bin&gt;map#1&lt;[0,1,2,3,4],[0,1,2,3,0]&gt;(out_x2cs_bin);INSDC:2na:bin out_2na_bin=out_dcmp_2na_bin|(INSDC:2na:bin)unpack#1(out_2na_packed);INSDC:x2cs:bin out_x2cs_bin=NCBI:color_from_dna#1(out_x2na_bin,out_read_start,out_read_len,out_cs_key,out_color_matrix);INSDC:2cs:packed out_2cs_packed=(INSDC:2cs:packed)pack#1(out_2cs_bin);INSDC:4na:packed out_4na_packed=(INSDC:4na:packed)pack#1(out_4na_bin);INSDC:color:text out_color_text=&lt;INSDC:x2cs:bin,INSDC:color:text&gt;map#1&lt;[0,1,2,3,4],'0123.'&gt;(out_x2cs_bin);U8 out_color_matrix=&lt;U8&gt;echo#1&lt;[0,1,2,3,4,1,0,3,2,4,2,3,0,1,4,3,2,1,0,4,4,4,4,4,4]&gt;();INSDC:coord:len base_space_spot_len=(INSDC:coord:len)row_len#1(out_2na_packed);INSDC:coord:len base_space_fixed_spot_len=(INSDC:coord:len)fixed_row_len#1(out_2na_packed);}table NCBI:tbl:base_space#2.0.3=NCBI:tbl:base_space_common#1.0.3,NCBI:tbl:dcmp_base_space#1{INSDC:dna:text in_dna_text=&lt;INSDC:dna:text,INSDC:dna:text&gt;map#1&lt;'.acmgrsvtwyhkdbn','NACMGRSVTWYHKDBN'&gt;(READ);INSDC:4na:bin in_4na_bin=&lt;INSDC:4na:bin&gt;range_validate#1&lt;0,15&gt;(READ)|(INSDC:4na:bin)unpack#1(in_4na_packed)|&lt;INSDC:dna:text,INSDC:4na:bin&gt;map#1&lt;'.ACMGRSVTWYHKDBN',[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]&gt;(in_dna_text)|&lt;INSDC:x2na:bin,INSDC:4na:bin&gt;map#1&lt;[0,1,2,3,4],[1,2,4,8,15]&gt;(in_x2na_bin);INSDC:4na:packed in_4na_packed=READ;INSDC:x2na:bin in_x2na_bin=&lt;INSDC:x2na:bin&gt;range_validate#1&lt;0,4&gt;(READ)|&lt;INSDC:4na:bin,INSDC:x2na:bin&gt;map#1&lt;[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],[4,0,1,4,2,4,4,4,3,4,4,4,4,4,4,4]&gt;(in_4na_bin);INSDC:2na:bin in_2na_bin=&lt;INSDC:2na:bin&gt;range_validate#1&lt;0,3&gt;(READ)|(INSDC:2na:bin)unpack#1(in_2na_packed)|INSDC:SEQ:rand_4na_2na#1(in_4na_bin);INSDC:2na:packed in_2na_packed=READ;INSDC:4na:bin in_alt_4na_bin=&lt;INSDC:4na:bin,INSDC:4na:bin&gt;map#1&lt;[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],[15,0,0,3,0,5,6,7,0,9,10,11,12,13,14,15]&gt;(in_4na_bin);U8 in_stats_bin=in_2na_bin;INSDC:2na:packed out_2na_packed=.READ|out_dcmp_2na_packed;INSDC:x2na:bin out_x2na_bin=out_dcmp_x2na_bin|&lt;INSDC:4na:bin,INSDC:x2na:bin&gt;map#1&lt;[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],[4,0,1,4,2,4,4,4,3,4,4,4,4,4,4,4]&gt;(out_4na_bin);INSDC:4na:bin out_2na_4na_bin=&lt;INSDC:2na:bin,INSDC:4na:bin&gt;map#1&lt;[0,1,2,3],[1,2,4,8]&gt;(out_2na_bin);INSDC:4na:bin out_4na_bin=&lt;INSDC:4na:bin&gt;bit_or#1&lt;1&gt;(out_2na_4na_bin,.ALTREAD)|out_dcmp_4na_bin|out_2na_4na_bin;INSDC:dna:text out_dna_text=&lt;INSDC:4na:bin,INSDC:dna:text&gt;map#1&lt;[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],'.ACMGRSVTWYHKDBN'&gt;(out_4na_bin);physical column INSDC:2na:packed .READ=in_2na_packed|(INSDC:2na:packed)pack#1(in_2na_bin);physical column &lt;INSDC:4na:bin&gt;zip_encoding#1 .ALTREAD=&lt;INSDC:4na:bin&gt;trim#1&lt;0,0&gt;(in_alt_4na_bin);}table NCBI:tbl:phred_quality#2.0.4=INSDC:tbl:sequence#1.0.1{INSDC:quality:phred out_qual_phred=.QUALITY;INSDC:quality:text:phred_33 in_qual_text_phred_33=QUALITY;INSDC:quality:text:phred_64 in_qual_text_phred_64=QUALITY;INSDC:quality:phred in_qual_phred=QUALITY|(INSDC:quality:phred)&lt;B8&gt;diff#1&lt;33&gt;(in_qual_text_phred_33)|(INSDC:quality:phred)&lt;B8&gt;diff#1&lt;64&gt;(in_qual_text_phred_64);INSDC:quality:phred in_stats_qual=in_qual_phred;physical column &lt;INSDC:quality:phred&gt;zip_encoding#1 .QUALITY=in_qual_phred;}table NCBI:SRA:tbl:stats#1.2=INSDC:SRA:tbl:stats#1.1,INSDC:SRA:tbl:sra#1.0.3{INSDC:SRA:spotid_t min_spot_id=&lt;INSDC:SRA:spotid_t&gt;meta:value#1&lt;'STATS/TABLE/SPOT_MIN'&gt;();INSDC:SRA:spotid_t max_spot_id=&lt;INSDC:SRA:spotid_t&gt;meta:value#1&lt;'STATS/TABLE/SPOT_MAX'&gt;();U64 spot_count=&lt;U64&gt;meta:value#1&lt;'STATS/TABLE/SPOT_COUNT'&gt;();U64 base_count=&lt;U64&gt;meta:value#1&lt;'STATS/TABLE/BASE_COUNT'&gt;();U64 bio_base_count=&lt;U64&gt;meta:value#1&lt;'STATS/TABLE/BIO_BASE_COUNT'&gt;();U64 cmp_base_count=&lt;U64&gt;meta:value#1&lt;'STATS/TABLE/CMP_BASE_COUNT'&gt;()|base_count;trigger meta_stats=NCBI:SRA:stats_trigger#1(in_stats_bin,in_read_len,in_read_type,in_spot_group)|NCBI:SRA:stats_trigger#1(in_stats_bin,in_read_len,in_read_type)|NCBI:SRA:cmp_stats_trigger#1(in_cmp_stats_bin,in_stats_qual,in_read_len,in_read_type,in_spot_group)|NCBI:SRA:cmp_stats_trigger#1(in_cmp_stats_bin,in_stats_qual,in_read_len,in_read_type)|NCBI:SRA:cmpf_stats_trigger#1(in_cmp_stats_bin,in_spot_len,in_read_len,in_read_type,in_spot_group)|NCBI:SRA:cmpf_stats_trigger#1(in_cmp_stats_bin,in_spot_len,in_read_len,in_read_type);trigger qual_stats=NCBI:SRA:phred_stats_trigger#1(in_qual_phred);}table NCBI:SRA:tbl:spotdesc_nocol#1.0.2=INSDC:tbl:sequence#1.0.1,INSDC:SRA:tbl:spotdesc#1.0.2{readonly column NCBI:SRA:Segment LABEL_SEG = out_label_seg|cast#1(out_label_seg32)|cast#1(_out_label_seg32);readonly column NCBI:SRA:Segment READ_SEG = out_read_seg|cast#1(out_read_seg32)|cast#1(_out_read_seg32);readonly column NCBI:SRA:ReadDesc READ_DESC = NCBI:SRA:make_read_desc#1(out_nreads,out_read_start,out_read_len,out_read_type,_out_rd_filter,out_cs_key,_out_label_start,_out_label_len,_out_label);readonly column NCBI:SRA:SpotDesc SPOT_DESC = NCBI:SRA:make_spot_desc#1(spot_len,fixed_spot_len,signal_len,trim_start,trim_len,out_nreads);readonly column INSDC:coord:len SIGNAL_LEN = signal_len;readonly column U16 SIGNAL_LEN = cast#1(signal_len);U32 _out_label_startU32=(U32)out_label_start;U32[2] _out_label_seg32=&lt;U32&gt;paste#1(_out_label_startU32,out_label_len);U32 _out_read_startU32=(U32)out_read_start;U32[2] _out_read_seg32=&lt;U32&gt;paste#1(_out_read_startU32,out_read_len);INSDC:SRA:read_filter _out_rd_filter=out_rd_filter|&lt;INSDC:SRA:read_filter&gt;echo#1&lt;0&gt;(out_read_start);ascii _out_label=out_label|&lt;ascii&gt;echo#1&lt;''&gt;();INSDC:coord:zero _out_label_start=out_label_start|&lt;INSDC:coord:zero&gt;echo#1&lt;0&gt;(out_read_start);INSDC:coord:len _out_label_len=out_label_len|&lt;INSDC:coord:len&gt;echo#1&lt;0&gt;(out_read_start);}table NCBI:SRA:tbl:spotdesc_nophys#1.0.2=NCBI:SRA:tbl:spotdesc_nocol#1.0.2{U8 out_nreads=.NREADS;ascii out_label=.LABEL;INSDC:SRA:xread_type out_read_type=.READ_TYPE;INSDC:SRA:read_filter out_rd_filter=.RD_FILTER;INSDC:coord:zero out_label_start=.LABEL_START|(INSDC:coord:zero)&lt;U32&gt;cut#1&lt;0&gt;(out_label_seg32);INSDC:coord:len out_label_len=.LABEL_LEN|(INSDC:coord:len)&lt;U32&gt;cut#1&lt;1&gt;(out_label_seg32);U32[2] out_label_seg32=cast#1(.LABEL_SEG);INSDC:coord:zero out_read_start=.READ_START|(INSDC:coord:zero)&lt;U32&gt;cut#1&lt;0&gt;(out_read_seg32);INSDC:coord:len out_read_len=.READ_LEN|(INSDC:coord:len)&lt;U32&gt;cut#1&lt;1&gt;(out_read_seg32);U32[2] out_read_seg32=NCBI:SRA:fix_read_seg#1(.READ_SEG,spot_len);}table NCBI:SRA:tbl:spotdesc#1.0.2=NCBI:SRA:tbl:spotdesc_nophys#1.0.2{physical column &lt;U8&gt;zip_encoding#1 .NREADS=NREADS;physical column &lt;ascii&gt;zip_encoding#1 .LABEL=LABEL;physical column &lt;INSDC:coord:zero&gt;izip_encoding#1 .LABEL_START=LABEL_START;physical column &lt;INSDC:coord:len&gt;izip_encoding#1 .LABEL_LEN=LABEL_LEN;physical column &lt;INSDC:coord:zero&gt;izip_encoding#1 .READ_START=READ_START;physical column &lt;INSDC:coord:len&gt;izip_encoding#1 .READ_LEN=in_read_len;physical column &lt;INSDC:SRA:xread_type&gt;zip_encoding#1 .READ_TYPE=in_read_type;physical column &lt;INSDC:SRA:read_filter&gt;zip_encoding#1 .RD_FILTER=READ_FILTER;}table NCBI:align:tbl:cmp_base_space#1=INSDC:tbl:sequence#1.0.1,NCBI:tbl:dcmp_base_space#1{default column INSDC:dna:text CMP_READ{read=out_cmp_dna_text;validate=&lt;INSDC:dna:text&gt;compare#1(in_cmp_dna_text,out_cmp_dna_text);}column INSDC:4na:bin CMP_READ = out_cmp_4na_bin;column INSDC:4na:packed CMP_READ = out_cmp_4na_packed;column INSDC:x2na:bin CMP_READ = out_cmp_x2na_bin;column INSDC:2na:bin CMP_READ = out_cmp_2na_bin;column INSDC:2na:packed CMP_READ = out_cmp_2na_packed;INSDC:dna:text in_cmp_dna_text=&lt;INSDC:dna:text,INSDC:dna:text&gt;map#1&lt;'.acmgrsvtwyhkdbn','NACMGRSVTWYHKDBN'&gt;(CMP_READ);INSDC:4na:bin in_cmp_4na_bin=&lt;INSDC:4na:bin&gt;range_validate#1&lt;0,15&gt;(CMP_READ)|(INSDC:4na:bin)unpack#1(in_cmp_4na_packed)|&lt;INSDC:dna:text,INSDC:4na:bin&gt;map#1&lt;'.ACMGRSVTWYHKDBN',[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]&gt;(in_cmp_dna_text)|&lt;INSDC:x2na:bin,INSDC:4na:bin&gt;map#1&lt;[0,1,2,3,4],[1,2,4,8,15]&gt;(in_cmp_x2na_bin);INSDC:4na:packed in_cmp_4na_packed=CMP_READ;INSDC:x2na:bin in_cmp_x2na_bin=&lt;INSDC:x2na:bin&gt;range_validate#1&lt;0,4&gt;(CMP_READ)|&lt;INSDC:4na:bin,INSDC:x2na:bin&gt;map#1&lt;[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],[4,0,1,4,2,4,4,4,3,4,4,4,4,4,4,4]&gt;(in_cmp_4na_bin);INSDC:2na:bin in_cmp_2na_bin=&lt;INSDC:2na:bin&gt;range_validate#1&lt;0,3&gt;(CMP_READ)|(INSDC:2na:bin)unpack#1(in_cmp_2na_packed)|INSDC:SEQ:rand_4na_2na#1(in_cmp_4na_bin);INSDC:2na:packed in_cmp_2na_packed=CMP_READ;INSDC:4na:bin in_cmp_alt_4na_bin=&lt;INSDC:4na:bin,INSDC:4na:bin&gt;map#1&lt;[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],[15,0,0,3,0,5,6,7,0,9,10,11,12,13,14,15]&gt;(in_cmp_4na_bin);U8 in_cmp_stats_bin=in_cmp_2na_bin;INSDC:2na:packed out_cmp_2na_packed=.CMP_READ;INSDC:2na:bin out_cmp_2na_bin=(INSDC:2na:bin)unpack#1(out_cmp_2na_packed);INSDC:x2na:bin out_cmp_x2na_bin=&lt;INSDC:4na:bin,INSDC:x2na:bin&gt;map#1&lt;[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],[4,0,1,4,2,4,4,4,3,4,4,4,4,4,4,4]&gt;(out_cmp_4na_bin);INSDC:4na:bin out_cmp_2na_4na_bin=&lt;INSDC:2na:bin,INSDC:4na:bin&gt;map#1&lt;[0,1,2,3],[1,2,4,8]&gt;(out_cmp_2na_bin);INSDC:4na:bin out_cmp_4na_bin=&lt;INSDC:4na:bin&gt;bit_or#1&lt;1&gt;(out_cmp_2na_4na_bin,.CMP_ALTREAD)|out_cmp_2na_4na_bin;INSDC:4na:packed out_cmp_4na_packed=(INSDC:4na:packed)pack#1(out_cmp_4na_bin);INSDC:dna:text out_cmp_dna_text=&lt;INSDC:4na:bin,INSDC:dna:text&gt;map#1&lt;[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],'.ACMGRSVTWYHKDBN'&gt;(out_cmp_4na_bin);INSDC:x2na:bin out_dcmp_x2na_bin=&lt;INSDC:4na:bin,INSDC:x2na:bin&gt;map#1&lt;[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],[4,0,1,4,2,4,4,4,3,4,4,4,4,4,4,4]&gt;(out_dcmp_4na_bin);INSDC:2na:bin out_dcmp_2na_bin=&lt;INSDC:x2na:bin,INSDC:2na:bin&gt;map#1&lt;[0,1,2,3,4],[0,1,2,3,0]&gt;(out_dcmp_x2na_bin);INSDC:2na:packed out_dcmp_2na_packed=(INSDC:2na:packed)pack#1(out_dcmp_2na_bin);physical column INSDC:2na:packed .CMP_READ=in_cmp_2na_packed|(INSDC:2na:packed)pack#1(in_cmp_2na_bin);physical column &lt;INSDC:4na:bin&gt;zip_encoding#1 .CMP_ALTREAD=&lt;INSDC:4na:bin&gt;trim#1&lt;0,0&gt;(in_cmp_alt_4na_bin);}table NCBI:align:tbl:qstat#1{column &lt;ascii&gt;zip_encoding#1 SPOT_GROUP;column &lt;U32&gt;izip_encoding#1 CYCLE;column INSDC:dna:text KMER;column &lt;INSDC:coord:len&gt;izip_encoding#1 HPRUN;column &lt;U32&gt;izip_encoding#1 GC_CONTENT;column &lt;INSDC:quality:phred&gt;zip_encoding#1 ORIG_QUAL;column &lt;INSDC:quality:phred&gt;zip_encoding#1 MAX_QUAL;column &lt;U8&gt;zip_encoding#1 NREAD;column &lt;U32&gt;izip_encoding#1 TOTAL_COUNT;column &lt;U32&gt;izip_encoding#1 MISMATCH_COUNT;}table NCBI:align:tbl:ref_block_cmn#1{readonly column ascii REF_TABLE = &lt;ascii&gt;meta:read#1&lt;'CONFIG/REF_TABLE'&gt;()|&lt;ascii&gt;echo#1&lt;'REFERENCE'&gt;();column I64 REF_ID = out_ref_id;column INSDC:coord:zero REF_START = out_ref_start;column U64 GLOBAL_REF_START = out_global_ref_start;column INSDC:coord:len REF_LEN = out_ref_len;column bool_encoding#1 REF_ORIENTATION;column &lt;U32&gt;izip_encoding#1 REF_PLOIDY;readonly column INSDC:coord:zero REF_POS = NCBI:align:ref_pos#1(out_ref_id,out_ref_start);readonly column ascii REF_NAME = NCBI:align:ref_name#1(out_ref_id);readonly column ascii REF_SEQ_ID = NCBI:align:ref_seq_id#1(out_ref_id)|&lt;ascii&gt;echo#1&lt;''&gt;();INSDC:coord:len out_ref_len_internal=NCBI:align:get_ref_len_2#2(out_has_ref_offset,out_ref_offset)|NCBI:align:get_ref_len#1(out_has_ref_offset,out_ref_offset);INSDC:coord:len out_ref_len=.REF_LEN|out_ref_len_internal;physical column &lt;INSDC:coord:len&gt;izip_encoding#1 .REF_LEN=REF_LEN;}table NCBI:align:tbl:global_ref_block#1=NCBI:align:tbl:ref_block_cmn#1{U64 out_global_ref_start=.GLOBAL_REF_START;I64 out_ref_id=NCBI:align:local_ref_id#1(.GLOBAL_REF_START);INSDC:coord:zero out_ref_start=NCBI:align:local_ref_start#1(.GLOBAL_REF_START);physical column &lt;U64&gt;izip_encoding#1 .GLOBAL_REF_START=GLOBAL_REF_START;}table NCBI:align:tbl:align_cmn#2.1=NCBI:tbl:base_space_common#1.0.3,NCBI:SRA:tbl:stats#1.2,NCBI:align:tbl:ref_block_cmn#1{column &lt;U32&gt;izip_encoding#1 TMP_KEY_ID;column &lt;I64&gt;izip_encoding#1 SEQ_SPOT_ID;column &lt;INSDC:coord:one&gt;izip_encoding#1 SEQ_READ_ID;readonly column INSDC:coord:len LEFT_SOFT_CLIP = NCBI:align:get_left_soft_clip#2(HAS_REF_OFFSET,REF_OFFSET,out_read_len);readonly column INSDC:coord:len RIGHT_SOFT_CLIP = out_right_clip;readonly column ascii CLIPPED_CIGAR_LONG = &lt;ascii&gt;NCBI:align:get_clipped_cigar#2(CIGAR_LONG,CIGAR_LONG_LEN);readonly column INSDC:coord:len CLIPPED_CIGAR_LONG_LEN = &lt;INSDC:coord:len&gt;NCBI:align:get_clipped_cigar#2(CIGAR_LONG,CIGAR_LONG_LEN);readonly column ascii CLIPPED_CIGAR_SHORT = &lt;ascii&gt;NCBI:align:get_clipped_cigar#2(CIGAR_SHORT,CIGAR_SHORT_LEN);readonly column INSDC:coord:len CLIPPED_CIGAR_SHORT_LEN = &lt;INSDC:coord:len&gt;NCBI:align:get_clipped_cigar#2(CIGAR_SHORT,CIGAR_SHORT_LEN);readonly column ascii CLIPPED_HAS_MISMATCH = &lt;U8,ascii&gt;map#1&lt;[0,1],'01'&gt;(out_clipped_has_mismatch);readonly column bool CLIPPED_HAS_MISMATCH = out_clipped_has_mismatch;readonly column ascii CLIPPED_HAS_REF_OFFSET = &lt;U8,ascii&gt;map#1&lt;[0,1],'01'&gt;(out_clipped_has_ref_offset);readonly column bool CLIPPED_HAS_REF_OFFSET = out_clipped_has_ref_offset;readonly column INSDC:dna:text CLIPPED_MISMATCH = &lt;INSDC:dna:text&gt;NCBI:align:clip#1(out_mismatch_dna_text,LEFT_SOFT_CLIP,RIGHT_SOFT_CLIP);readonly column I32 CLIPPED_REF_OFFSET = NCBI:align:get_clipped_ref_offset#1(HAS_REF_OFFSET,REF_OFFSET);readonly column INSDC:quality:phred CLIPPED_QUALITY = &lt;INSDC:quality:phred&gt;NCBI:align:clip#2(out_qual_phred,out_read_len,LEFT_SOFT_CLIP,RIGHT_SOFT_CLIP);readonly column INSDC:dna:text CLIPPED_READ = &lt;INSDC:dna:text&gt;NCBI:align:clip#2(READ,out_read_len,LEFT_SOFT_CLIP,RIGHT_SOFT_CLIP);column &lt;NCBI:align:ploidy&gt;izip_encoding#1 PLOIDY;column INSDC:quality:phred CMP_QUALITY = .CMP_QUALITY|out_cmp_quality;readonly column INSDC:quality:text:phred_33 SAM_QUALITY = QUALITY;column ascii SEQ_NAME = .SEQ_NAME|&lt;ascii&gt;simple_sub_select#1&lt;'SEQUENCE','NAME'&gt;(.SEQ_SPOT_ID)|sprintf#1&lt;'%u'&gt;(tmp_seq_spot_id);readonly column U32 SAM_FLAGS = NCBI:align:get_sam_flags#1(projected_read_len,.SEQ_READ_ID,out_template_len,REF_ORIENTATION,out_mate_ref_orientation,is_secondary,out_rd_filter)|NCBI:align:get_sam_flags#2(out_mate_align_id,.SEQ_READ_ID,out_template_len,REF_ORIENTATION,out_mate_ref_orientation,is_secondary,out_rd_filter);readonly column ascii MISMATCH_READ = NCBI:align:get_mismatch_read#1(out_has_mismatch,out_mismatch_dna_text);column &lt;I32&gt;izip_encoding#1 MAPQ;column INSDC:coord:zero MATE_REF_POS = out_mate_ref_pos;column INSDC:coord:len MATE_REF_LEN = out_mate_ref_len;column I64 MATE_REF_ID = out_mate_ref_id;column I32 TEMPLATE_LEN = out_template_len;column bool MATE_REF_ORIENTATION = out_mate_ref_orientation;readonly column ascii MATE_REF_NAME = NCBI:align:ref_name#1(out_mate_ref_id);readonly column ascii MATE_REF_SEQ_ID = NCBI:align:ref_seq_id#1(out_mate_ref_id);readonly column U8 ALIGNMENT_COUNT = out_alignment_count;readonly column ascii HAS_REF_OFFSET = &lt;U8,ascii&gt;map#1&lt;[0,1],'01'&gt;(out_has_ref_offset);column bool_encoding#1 HAS_REF_OFFSET;column &lt;I32&gt;izip_encoding#1 REF_OFFSET;column &lt;NCBI:align:ro_type&gt;izip_encoding#1 REF_OFFSET_TYPE;readonly column I64 ALIGN_ID = row_id#1();readonly column INSDC:dna:text REF_READ = &lt;INSDC:4na:bin,INSDC:dna:text&gt;map#1&lt;[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],'.ACMGRSVTWYHKDBN'&gt;(REF_READ);readonly column INSDC:4na:bin REF_READ = NCBI:align:ref_sub_select#1(out_ref_id,out_ref_start,out_ref_len,.REF_PLOIDY)|NCBI:align:ref_sub_select#1(out_ref_id,out_ref_start,out_ref_len);readonly column INSDC:dna:text RAW_READ = &lt;INSDC:4na:bin,INSDC:dna:text&gt;map#1&lt;[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],'.ACMGRSVTWYHKDBN'&gt;(out_raw_read);readonly column INSDC:4na:bin RAW_READ = out_raw_read;readonly column ascii CIGAR_LONG = &lt;ascii&gt;NCBI:align:cigar#2&lt;1&gt;(out_has_mismatch,out_has_ref_offset,out_ref_offset,out_read_len,out_ref_len,out_ro_type)|&lt;ascii&gt;NCBI:align:cigar#2&lt;1&gt;(out_has_mismatch,out_has_ref_offset,out_ref_offset,out_read_len,out_ref_len)|&lt;ascii&gt;NCBI:align:cigar#2&lt;1&gt;(out_has_mismatch,out_has_ref_offset,out_ref_offset,out_read_len);readonly column INSDC:coord:len CIGAR_LONG_LEN = &lt;INSDC:coord:len&gt;NCBI:align:cigar#2&lt;1&gt;(out_has_mismatch,out_has_ref_offset,out_ref_offset,out_read_len,out_ref_len,out_ro_type)|&lt;INSDC:coord:len&gt;NCBI:align:cigar#2&lt;1&gt;(out_has_mismatch,out_has_ref_offset,out_ref_offset,out_read_len,out_ref_len)|&lt;INSDC:coord:len&gt;NCBI:align:cigar#2&lt;1&gt;(out_has_mismatch,out_has_ref_offset,out_ref_offset,out_read_len);readonly column ascii CIGAR_SHORT = &lt;ascii&gt;NCBI:align:cigar#2&lt;0&gt;(out_has_mismatch,out_has_ref_offset,out_ref_offset,out_read_len,out_ref_len,out_ro_type)|&lt;ascii&gt;NCBI:align:cigar#2&lt;0&gt;(out_has_mismatch,out_has_ref_offset,out_ref_offset,out_read_len,out_ref_len)|&lt;ascii&gt;NCBI:align:cigar#2&lt;0&gt;(out_has_mismatch,out_has_ref_offset,out_ref_offset,out_read_len);readonly column INSDC:coord:len CIGAR_SHORT_LEN = &lt;INSDC:coord:len&gt;NCBI:align:cigar#2&lt;0&gt;(out_has_mismatch,out_has_ref_offset,out_ref_offset,out_read_len,out_ref_len,out_ro_type)|&lt;INSDC:coord:len&gt;NCBI:align:cigar#2&lt;0&gt;(out_has_mismatch,out_has_ref_offset,out_ref_offset,out_read_len,out_ref_len)|&lt;INSDC:coord:len&gt;NCBI:align:cigar#2&lt;0&gt;(out_has_mismatch,out_has_ref_offset,out_ref_offset,out_read_len);readonly column ascii RNA_ORIENTATION = NCBI:align:rna_orientation#1(out_ro_type);readonly column U32 EDIT_DISTANCE = NCBI:align:edit_distance#3(out_has_mismatch,out_has_ref_offset,out_ref_offset,out_ro_type,out_read_len)|NCBI:align:edit_distance#2(out_has_mismatch,out_has_ref_offset,out_ref_offset,out_ref_len,out_read_len)|NCBI:align:edit_distance#2(out_has_mismatch,out_has_ref_offset,out_ref_offset,out_ref_len)|NCBI:align:edit_distance#1(out_has_mismatch,out_has_ref_offset,out_ref_offset);readonly column ascii HAS_MISMATCH = &lt;U8,ascii&gt;map#1&lt;[0,1],'01'&gt;(out_has_mismatch);readonly column ascii SEQ_SPOT_GROUP = out_spot_group;readonly column ascii REF_MISMATCH = &lt;U8,ascii&gt;map#1&lt;[0,1],'01'&gt;(out_ref_mismatch);readonly column bool REF_MISMATCH = out_ref_mismatch;readonly column ascii REF_INSERT = &lt;U8,ascii&gt;map#1&lt;[0,1],'01'&gt;(out_ref_insert);readonly column bool REF_INSERT = out_ref_insert;readonly column ascii REF_DELETE = &lt;U8,ascii&gt;map#1&lt;[0,1],'01'&gt;(out_ref_delete);readonly column bool REF_DELETE = out_ref_delete;bool is_secondary=out_is_secondary;INSDC:coord:len out_right_clip=NCBI:align:get_right_soft_clip#5(out_has_ref_offset,out_ref_offset,out_ro_type,out_read_len)|NCBI:align:get_right_soft_clip#4(out_has_ref_offset,out_ref_offset,out_read_len,out_ref_len)|NCBI:align:get_right_soft_clip#3(out_has_ref_offset,out_ref_offset,out_ref_len)|NCBI:align:get_right_soft_clip#2(out_has_mismatch,LEFT_SOFT_CLIP,out_has_ref_offset,out_ref_offset);bool out_clipped_has_mismatch=&lt;bool&gt;NCBI:align:clip#2(out_has_mismatch,out_read_len,LEFT_SOFT_CLIP,RIGHT_SOFT_CLIP);bool out_clipped_has_ref_offset=&lt;bool&gt;NCBI:align:clip#2(HAS_REF_OFFSET,out_read_len,LEFT_SOFT_CLIP,RIGHT_SOFT_CLIP);U32 out_nreads=.PLOIDY|&lt;U32&gt;echo#1&lt;1&gt;();INSDC:coord:zero out_read_start=.READ_START|&lt;INSDC:coord:zero&gt;echo#1&lt;0&gt;();INSDC:coord:len align_spot_len=(INSDC:coord:len)row_len#1(out_has_ref_offset);INSDC:coord:len out_read_len=.READ_LEN|align_spot_len;INSDC:quality:phred out_raw_qual=&lt;INSDC:quality:phred&gt;NCBI:align:project_from_sequence#1&lt;'( INSDC:quality:phred ) QUALITY'&gt;(.SEQ_SPOT_ID,.SEQ_READ_ID);INSDC:quality:phred out_qual_phred=NCBI:align:raw_restore_qual#1(out_raw_qual,.REF_ORIENTATION)|&lt;INSDC:quality:phred&gt;echo#1&lt;30&gt;(out_4na_bin);ascii out_spot_group=&lt;ascii&gt;simple_sub_select#1&lt;'SEQUENCE','SPOT_GROUP'&gt;(.SEQ_SPOT_ID);INSDC:SRA:spotid_t tmp_seq_spot_id=cast#1(.SEQ_SPOT_ID);INSDC:coord:len projected_read_len=&lt;INSDC:coord:len&gt;simple_sub_select#1&lt;'SEQUENCE','READ_LEN'&gt;(.SEQ_SPOT_ID);ascii out_name_fmt=&lt;ascii&gt;echo#1&lt;'$R'&gt;();INSDC:coord:zero trim_start=&lt;INSDC:coord:zero&gt;echo#1&lt;0&gt;();INSDC:coord:len trim_len=align_spot_len;ascii out_label=.LABEL|&lt;ascii&gt;echo#1&lt;'ploidy1'&gt;();INSDC:coord:zero out_label_start=.LABEL_START|&lt;INSDC:coord:zero&gt;echo#1&lt;0&gt;();INSDC:coord:len out_label_len=.LABEL_LEN|&lt;INSDC:coord:len&gt;echo#1&lt;7&gt;();INSDC:SRA:read_filter out_rd_filter=.RD_FILTER|&lt;INSDC:SRA:read_filter&gt;NCBI:align:project_from_sequence#1&lt;'READ_FILTER'&gt;(.SEQ_SPOT_ID,.SEQ_READ_ID)|&lt;INSDC:SRA:read_filter&gt;echo#1&lt;0&gt;(out_read_len);INSDC:SRA:platform_id out_platform=.PLATFORM|&lt;INSDC:SRA:platform_id&gt;simple_sub_select#1&lt;'SEQUENCE','PLATFORM'&gt;(.SEQ_SPOT_ID)|&lt;INSDC:SRA:platform_id&gt;echo#1&lt;0&gt;();U8 out_alignment_count=&lt;U8&gt;NCBI:align:project_from_sequence#1&lt;'ALIGNMENT_COUNT'&gt;(.SEQ_SPOT_ID,.SEQ_READ_ID);INSDC:SRA:xread_type out_read_type=&lt;INSDC:SRA:xread_type&gt;echo#1&lt;3&gt;(out_read_len);bool in_stats_bin=HAS_REF_OFFSET;INSDC:coord:len _alt_in_read_len=READ_LEN|(INSDC:coord:len)row_len#1(HAS_REF_OFFSET);INSDC:SRA:xread_type _alt_in_read_type=READ_TYPE|&lt;INSDC:SRA:xread_type&gt;echo#1&lt;1&gt;(_alt_in_read_len);bool out_has_ref_offset=.HAS_REF_OFFSET;I32 out_ref_offset=.REF_OFFSET;NCBI:align:ro_type out_ro_type=.REF_OFFSET_TYPE;INSDC:4na:bin ref_read_internal=NCBI:align:ref_sub_select#1(out_ref_id,out_ref_start,out_ref_len_internal,.REF_PLOIDY)|NCBI:align:ref_sub_select#1(out_ref_id,out_ref_start,out_ref_len_internal);INSDC:dna:text out_dna_text=&lt;INSDC:4na:bin,INSDC:dna:text&gt;map#1&lt;[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],'.ACMGRSVTWYHKDBN'&gt;(out_4na_bin);bool out_ref_mismatch=NCBI:align:get_ref_mismatch#1(out_has_mismatch,out_has_ref_offset,out_ref_offset,out_ref_len);bool out_ref_insert=NCBI:align:get_ref_insert#1(out_has_mismatch,out_has_ref_offset,out_ref_offset,out_ref_len);bool out_ref_delete=NCBI:align:get_ref_delete#1(out_has_mismatch,out_has_ref_offset,out_ref_offset,out_ref_len);physical column &lt;INSDC:coord:zero&gt;izip_encoding#1 .READ_START=READ_START;physical column &lt;INSDC:coord:len&gt;izip_encoding#1 .READ_LEN=READ_LEN;physical column &lt;INSDC:quality:phred&gt;zip_encoding#1 .CMP_QUALITY=CMP_QUALITY;physical column &lt;ascii&gt;zip_encoding#1 .SEQ_NAME=SEQ_NAME;physical column &lt;INSDC:SRA:read_filter&gt;zip_encoding#1 .RD_FILTER=READ_FILTER;}table NCBI:align:tbl:align_full#1.1=NCBI:align:tbl:align_cmn#2.1{column bool_encoding#1 TMP_HAS_MISMATCH;readonly column bool HAS_MISMATCH = out_has_mismatch;column &lt;INSDC:dna:text&gt;zip_encoding#1 TMP_MISMATCH;readonly column INSDC:dna:text MISMATCH = out_mismatch_dna_text;readonly column INSDC:4na:bin MISMATCH = out_mismatch_4na_bin;column I64 MATE_ALIGN_ID = out_mate_align_id;column I64 PRIMARY_ALIGNMENT_ID = .PRIMARY_ALIGNMENT_ID|&lt;I64&gt;simple_sub_select#1&lt;'SEQUENCE','PRIMARY_ALIGNMENT_ID'&gt;(.SEQ_SPOT_ID,.SEQ_READ_ID);bool out_is_secondary=&lt;bool&gt;echo#1&lt;true&gt;();INSDC:4na:bin out_raw_read=&lt;INSDC:4na:bin&gt;simple_sub_select#1&lt;'PRIMARY_ALIGNMENT','( INSDC:4na:bin ) RAW_READ'&gt;(.PRIMARY_ALIGNMENT_ID)|&lt;INSDC:4na:bin&gt;NCBI:align:project_from_sequence#1&lt;'( INSDC:4na:bin ) READ'&gt;(.SEQ_SPOT_ID,.SEQ_READ_ID);INSDC:4na:bin out_4na_bin=NCBI:align:align_restore_read#1(ref_read_internal,out_has_mismatch,tmp_out_mismatch_4na_bin,out_has_ref_offset,out_ref_offset,.READ_LEN)|NCBI:align:align_restore_read#1(ref_read_internal,out_has_mismatch,tmp_out_mismatch_4na_bin,out_has_ref_offset,out_ref_offset)|NCBI:align:raw_restore_read#1(out_raw_read,.REF_ORIENTATION);bool out_has_mismatch=.TMP_HAS_MISMATCH|NCBI:align:generate_has_mismatch#1(REF_READ,READ,out_has_ref_offset,out_ref_offset);INSDC:4na:bin out_mismatch_4na_bin=NCBI:align:generate_mismatch#1(REF_READ,READ,out_has_ref_offset,out_ref_offset);INSDC:4na:bin tmp_out_mismatch_4na_bin=&lt;INSDC:dna:text,INSDC:4na:bin&gt;map#1&lt;'.ACMGRSVTWYHKDBN',[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]&gt;(.TMP_MISMATCH);INSDC:dna:text out_mismatch_dna_text=.TMP_MISMATCH|&lt;INSDC:4na:bin,INSDC:dna:text&gt;map#1&lt;[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],'.ACMGRSVTWYHKDBN'&gt;(out_mismatch_4na_bin);INSDC:coord:zero out_mate_ref_pos=.MATE_REF_POS|&lt;INSDC:coord:zero&gt;simple_sub_select#1&lt;'','REF_POS'&gt;(MATE_ALIGN_ID);I64 out_mate_ref_id=.MATE_REF_ID|&lt;I64&gt;simple_sub_select#1&lt;'','REF_ID'&gt;(MATE_ALIGN_ID);INSDC:coord:len out_mate_ref_len=&lt;INSDC:coord:len&gt;simple_sub_select#1&lt;'','REF_LEN'&gt;(MATE_ALIGN_ID);I32 out_template_len=.TEMPLATE_LEN|NCBI:align:template_len#1(REF_POS,out_mate_ref_pos,out_ref_len,out_mate_ref_len,REF_NAME,MATE_REF_NAME,SEQ_READ_ID);bool out_mate_ref_orientation=.MATE_REF_ORIENTATION|&lt;bool&gt;simple_sub_select#1&lt;'','REF_ORIENTATION'&gt;(MATE_ALIGN_ID);I64 out_mate_align_id=.MATE_ALIGN_ID;I32 read_idx=&lt;I32&gt;cast#1(.SEQ_READ_ID);physical column &lt;INSDC:coord:zero&gt;izip_encoding#1 .MATE_REF_POS=MATE_REF_POS;physical column &lt;I64&gt;izip_encoding#1 .MATE_REF_ID=MATE_REF_ID;physical column &lt;I32&gt;izip_encoding#1 .TEMPLATE_LEN=TEMPLATE_LEN;physical column &lt;bool&gt;izip_encoding#1 .MATE_REF_ORIENTATION=MATE_REF_ORIENTATION;physical column &lt;I64&gt;izip_encoding#1 .MATE_ALIGN_ID=MATE_ALIGN_ID;physical column &lt;I64&gt;izip_encoding#1 .PRIMARY_ALIGNMENT_ID=PRIMARY_ALIGNMENT_ID;}table NCBI:align:tbl:compressed_by_reference#1.2=NCBI:align:tbl:align_cmn#2.1{column bool_encoding#1 HAS_MISMATCH;column INSDC:dna:text MISMATCH{read=out_mismatch_dna_text;validate=&lt;INSDC:dna:text&gt;compare#1(in_mismatch_dna_text,out_mismatch_dna_text);}column &lt;ascii&gt;zip_encoding#1 ALIGN_GROUP;column I64 MATE_ALIGN_ID = out_mate_align_id;readonly column U32 MATE_EDIT_DISTANCE = &lt;U32&gt;simple_sub_select#1&lt;'','EDIT_DISTANCE'&gt;(MATE_ALIGN_ID);readonly column ascii MATE_CIGAR_LONG = &lt;ascii&gt;simple_sub_select#1&lt;'','CIGAR_LONG'&gt;(MATE_ALIGN_ID);readonly column ascii MATE_CIGAR_SHORT = &lt;ascii&gt;simple_sub_select#1&lt;'','CIGAR_SHORT'&gt;(MATE_ALIGN_ID);readonly column INSDC:coord:len MATE_CIGAR_LONG_LEN = &lt;INSDC:coord:len&gt;simple_sub_select#1&lt;'','CIGAR_LONG_LEN'&gt;(MATE_ALIGN_ID);readonly column INSDC:coord:len MATE_CIGAR_SHORT_LEN = &lt;INSDC:coord:len&gt;simple_sub_select#1&lt;'','CIGAR_SHORT_LEN'&gt;(MATE_ALIGN_ID);bool out_is_secondary=&lt;bool&gt;echo#1&lt;false&gt;();bool out_has_mismatch=.HAS_MISMATCH;INSDC:dna:text in_mismatch_dna_text=&lt;INSDC:dna:text,INSDC:dna:text&gt;map#1&lt;'.acmgrsvtwyhkdbn','NACMGRSVTWYHKDBN'&gt;(MISMATCH);INSDC:4na:bin in_mismatch_4na_bin=&lt;INSDC:dna:text,INSDC:4na:bin&gt;map#1&lt;'.ACMGRSVTWYHKDBN',[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15]&gt;(in_mismatch_dna_text);INSDC:4na:bin out_mismatch_4na_bin=.MISMATCH;INSDC:dna:text out_mismatch_dna_text=&lt;INSDC:4na:bin,INSDC:dna:text&gt;map#1&lt;[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],'.ACMGRSVTWYHKDBN'&gt;(out_mismatch_4na_bin);I64 out_mate_align_id=.MATE_ALIGN_ID|NCBI:align:get_mate_align_id#1(.SEQ_SPOT_ID);INSDC:4na:bin out_4na_bin=NCBI:align:align_restore_read#1(ref_read_internal,out_has_mismatch,.MISMATCH,out_has_ref_offset,out_ref_offset,.READ_LEN)|NCBI:align:align_restore_read#1(ref_read_internal,out_has_mismatch,.MISMATCH,out_has_ref_offset,out_ref_offset);INSDC:4na:bin out_raw_read=NCBI:align:raw_restore_read#1(out_4na_bin,.REF_ORIENTATION);I64 primary_align_pair=&lt;I64&gt;simple_sub_select#1&lt;'SEQUENCE','PRIMARY_ALIGNMENT_ID'&gt;(.SEQ_SPOT_ID);I64 out_mate_ref_id=&lt;I64&gt;simple_sub_select#1&lt;'','REF_ID'&gt;(MATE_ALIGN_ID);bool out_mate_ref_orientation=&lt;bool&gt;simple_sub_select#1&lt;'','REF_ORIENTATION'&gt;(MATE_ALIGN_ID);INSDC:coord:zero out_mate_ref_pos=&lt;INSDC:coord:zero&gt;simple_sub_select#1&lt;'','REF_POS'&gt;(MATE_ALIGN_ID);INSDC:coord:len out_mate_ref_len=&lt;INSDC:coord:len&gt;simple_sub_select#1&lt;'','REF_LEN'&gt;(MATE_ALIGN_ID);I32 out_template_len=NCBI:align:template_len#1(REF_POS,out_mate_ref_pos,out_ref_len,out_mate_ref_len,REF_NAME,MATE_REF_NAME,SEQ_READ_ID);physical column &lt;INSDC:4na:bin&gt;zip_encoding#1 .MISMATCH=in_mismatch_4na_bin;physical column &lt;I64&gt;izip_encoding#1 .MATE_ALIGN_ID=MATE_ALIGN_ID;}table NCBI:align:tbl:align_sorted#1.2=NCBI:align:tbl:compressed_by_reference#1.2,NCBI:align:tbl:global_ref_block#1{column default limit=131072;}table NCBI:align:tbl:align_mate_sorted#1.1=NCBI:align:tbl:align_full#1.1,NCBI:align:tbl:global_ref_block#1{column default limit=131072;}table NCBI:align:tbl:seq#1=NCBI:tbl:base_space#2.0.3,NCBI:tbl:phred_quality#2.0.4,NCBI:align:tbl:cmp_base_space#1,NCBI:SRA:tbl:spotdesc#1.0.2,NCBI:SRA:tbl:stats#1.2{column default limit=131072;column &lt;I64&gt;izip_encoding#1 PRIMARY_ALIGNMENT_ID;column &lt;U8&gt;zip_encoding#1 ALIGNMENT_COUNT;column &lt;U64&gt;izip_encoding#1 TMP_KEY_ID;column &lt;U64&gt;izip_encoding#1 TI;INSDC:coord:zero trim_start=&lt;INSDC:coord:zero&gt;echo#1&lt;0&gt;();INSDC:coord:len trim_len=_spot_len;ascii out_name_fmt=&lt;ascii&gt;echo#1&lt;'$R'&gt;();INSDC:4na:bin out_dcmp_4na_bin=NCBI:align:seq_restore_read#1(out_cmp_4na_bin,.PRIMARY_ALIGNMENT_ID,.READ_LEN,.READ_TYPE);}table NCBI:align:tbl:cs_seq#1.1{column INSDC:color:text CMP_CSREAD = out_cmp_color_text;column &lt;INSDC:dna:text&gt;zip_encoding#1 CS_KEY;column &lt;INSDC:quality:phred&gt;zip_encoding#1 QUALITY;column &lt;I64&gt;izip_encoding#1 PRIMARY_ALIGNMENT_ID;column &lt;U8&gt;zip_encoding#1 ALIGNMENT_COUNT;column &lt;INSDC:SRA:platform_id&gt;zip_encoding#1 PLATFORM;column &lt;ascii&gt;zip_encoding#1 LABEL;column &lt;INSDC:coord:zero&gt;izip_encoding#1 LABEL_START;column &lt;INSDC:coord:len&gt;izip_encoding#1 LABEL_LEN;column &lt;INSDC:SRA:xread_type&gt;zip_encoding#1 READ_TYPE;column &lt;INSDC:coord:zero&gt;izip_encoding#1 READ_START;column &lt;INSDC:coord:len&gt;izip_encoding#1 READ_LEN;column &lt;INSDC:SRA:read_filter&gt;zip_encoding#1 READ_FILTER;column &lt;U64&gt;izip_encoding#1 TMP_KEY_ID;column &lt;ascii&gt;zip_encoding#1 SPOT_GROUP;column &lt;U64&gt;izip_encoding#1 TI;INSDC:x2cs:bin in_cmp_x2cs_bin=&lt;INSDC:color:text,INSDC:x2cs:bin&gt;map#1&lt;'0123.',[0,1,2,3,4]&gt;(CMP_CSREAD);INSDC:2cs:bin in_cmp_2cs_bin=&lt;INSDC:x2cs:bin,INSDC:2cs:bin&gt;map#1&lt;[0,1,2,3,4],[0,1,2,3,0]&gt;(in_cmp_x2cs_bin);INSDC:x2cs:bin in_cmp_alt_x2cs_bin=&lt;INSDC:x2cs:bin,INSDC:x2cs:bin&gt;map#1&lt;[0,1,2,3,4],[0,0,0,0,4]&gt;(in_cmp_x2cs_bin);INSDC:2cs:packed phys_cmp_2cs_packed=.CMP_CSREAD;INSDC:x2cs:bin phys_cmp_alt_x2cs_bin=.CMP_ALTCSREAD;INSDC:2cs:packed phys_2cs_packed=.CSREAD;INSDC:x2cs:bin phys_alt_x2cs_bin=.ALTCSREAD;INSDC:2cs:bin out_cmp_2cs_bin=(INSDC:2cs:bin)unpack#1(phys_cmp_2cs_packed);INSDC:2cs:bin out_2cs_bin=(INSDC:2cs:bin)unpack#1(phys_2cs_packed);INSDC:x2cs:bin out_cmp_x2cs_bin=(INSDC:x2cs:bin)&lt;U8&gt;bit_or#1&lt;1&gt;(out_cmp_2cs_bin,phys_cmp_alt_x2cs_bin)|(INSDC:x2cs:bin)out_cmp_2cs_bin;INSDC:x2cs:bin out_x2cs_bin=(INSDC:x2cs:bin)&lt;U8&gt;bit_or#1&lt;1&gt;(out_2cs_bin,phys_alt_x2cs_bin)|(INSDC:x2cs:bin)out_2cs_bin;INSDC:color:text out_cmp_color_text=&lt;INSDC:x2cs:bin,INSDC:color:text&gt;map#1&lt;[0,1,2,3,4],'0123.'&gt;(out_cmp_x2cs_bin);INSDC:color:text out_color_text=&lt;INSDC:x2cs:bin,INSDC:color:text&gt;map#1&lt;[0,1,2,3,4],'0123.'&gt;(out_x2cs_bin);INSDC:quality:phred in_qual_phred=QUALITY;INSDC:coord:len in_read_len=READ_LEN;INSDC:SRA:xread_type in_read_type=READ_TYPE;ascii in_spot_group=SPOT_GROUP;trigger meta_stats=NCBI:SRA:cmp_stats_trigger#1(in_cmp_x2cs_bin,in_qual_phred,in_read_len,in_read_type,in_spot_group)|NCBI:SRA:cmp_stats_trigger#1(in_cmp_x2cs_bin,in_qual_phred,in_read_len,in_read_type);trigger qual_stats=NCBI:SRA:phred_stats_trigger#1(in_qual_phred);physical column INSDC:2cs:packed .CMP_CSREAD=(INSDC:2cs:packed)pack#1(in_cmp_2cs_bin);physical column &lt;INSDC:x2cs:bin&gt;zip_encoding#1 .CMP_ALTCSREAD=&lt;INSDC:x2cs:bin&gt;trim#1&lt;0,0&gt;(in_cmp_alt_x2cs_bin);}table NCBI:align:view:cs_seq#1.1=NCBI:align:tbl:cs_seq#1.1{default readonly column INSDC:dna:text READ = &lt;INSDC:4na:bin,INSDC:dna:text&gt;map#1&lt;[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],'.ACMGRSVTWYHKDBN'&gt;(out_dcmp_4na_bin)|&lt;INSDC:4na:bin,INSDC:dna:text&gt;map#1&lt;[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],'.ACMGRSVTWYHKDBN'&gt;(out_4na_bin);readonly column INSDC:4na:bin READ = out_dcmp_4na_bin|out_4na_bin;readonly column INSDC:4na:packed READ = pack#1(out_dcmp_4na_bin)|pack#1(out_4na_bin);readonly column INSDC:x2na:bin READ = out_dcmp_x2na_bin|out_x2na_bin;readonly column INSDC:2na:bin READ = out_dcmp_2na_bin|out_2na_bin;readonly column INSDC:2na:packed READ = pack#1(out_dcmp_2na_bin)|pack#1(out_2na_bin);default readonly column INSDC:color:text CSREAD = &lt;INSDC:x2cs:bin,INSDC:color:text&gt;map#1&lt;[0,1,2,3,4],'0123.'&gt;(out_dcmp_x2cs_bin)|out_color_text;readonly column INSDC:x2cs:bin CSREAD = out_dcmp_x2cs_bin|out_x2cs_bin;readonly column INSDC:2cs:bin CSREAD = out_dcmp_2cs_bin|out_2cs_bin;readonly column INSDC:2cs:packed CSREAD = pack#1(out_dcmp_2cs_bin)|out_2cs_bin;readonly column bool CS_NATIVE = &lt;U32,bool&gt;map#1&lt;[0,1],[false,true]&gt;(cmp_cs_read_not_zero);readonly column U8 COLOR_MATRIX = color_matrix;readonly column INSDC:quality:text:phred_33 QUALITY = out_qual_text_phred_33|(INSDC:quality:text:phred_33)&lt;B8&gt;sum#1&lt;33&gt;(.QUALITY);readonly column INSDC:quality:text:phred_64 QUALITY = out_qual_text_phred_64|(INSDC:quality:text:phred_64)&lt;B8&gt;sum#1&lt;64&gt;(.QUALITY);readonly column INSDC:coord:len SPOT_LEN = spot_len;readonly column INSDC:coord:zero TRIM_START = &lt;INSDC:coord:zero&gt;echo#1&lt;0&gt;();readonly column INSDC:coord:one TRIM_START = &lt;INSDC:coord:one&gt;echo#1&lt;1&gt;();readonly column INSDC:coord:len TRIM_LEN = spot_len;readonly column INSDC:SRA:spotid_t MIN_SPOT_ID = &lt;INSDC:SRA:spotid_t&gt;meta:value#1&lt;'STATS/TABLE/SPOT_MIN'&gt;();readonly column INSDC:SRA:spotid_t MAX_SPOT_ID = &lt;INSDC:SRA:spotid_t&gt;meta:value#1&lt;'STATS/TABLE/SPOT_MAX'&gt;();readonly column U64 SPOT_COUNT = &lt;U64&gt;meta:value#1&lt;'STATS/TABLE/SPOT_COUNT'&gt;();readonly column U64 BASE_COUNT = base_count;readonly column U64 BIO_BASE_COUNT = &lt;U64&gt;meta:value#1&lt;'STATS/TABLE/BIO_BASE_COUNT'&gt;();readonly column U64 CMP_BASE_COUNT = &lt;U64&gt;meta:value#1&lt;'STATS/TABLE/CMP_BASE_COUNT'&gt;()|base_count;readonly column INSDC:SRA:spotid_t SPOT_ID = cast#1(rowid_64);readonly column ascii NAME = sprintf#1&lt;'%u'&gt;(SPOT_ID);INSDC:2na:bin out_dcmp_2na_bin=&lt;INSDC:x2na:bin,INSDC:2na:bin&gt;map#1&lt;[0,1,2,3,4],[0,1,2,3,0]&gt;(out_dcmp_x2na_bin);INSDC:2na:bin out_2na_bin=&lt;INSDC:x2na:bin,INSDC:2na:bin&gt;map#1&lt;[0,1,2,3,4],[0,1,2,3,0]&gt;(out_x2na_bin);INSDC:coord:len cmp_read_len=&lt;INSDC:coord:len&gt;NCBI:align:make_cmp_read_desc#1&lt;true&gt;(.READ_LEN,.PRIMARY_ALIGNMENT_ID);INSDC:coord:zero cmp_read_start=NCBI:align:make_read_start#1(cmp_read_len);INSDC:x2na:bin out_cmp_x2na_bin=NCBI:dna_from_color#1(out_cmp_x2cs_bin,cmp_read_start,cmp_read_len,.CS_KEY,color_matrix);INSDC:x2na:bin out_x2na_bin=NCBI:dna_from_color#1(out_x2cs_bin,.READ_START,.READ_LEN,.CS_KEY,color_matrix);INSDC:4na:bin out_cmp_4na_bin=&lt;INSDC:x2na:bin,INSDC:4na:bin&gt;map#1&lt;[0,1,2,3,4],[1,2,4,8,15]&gt;(out_cmp_x2na_bin);INSDC:4na:bin out_4na_bin=&lt;INSDC:x2na:bin,INSDC:4na:bin&gt;map#1&lt;[0,1,2,3,4],[1,2,4,8,15]&gt;(out_x2na_bin);INSDC:4na:bin out_dcmp_4na_bin=NCBI:align:seq_restore_read#1(out_cmp_4na_bin,.PRIMARY_ALIGNMENT_ID,.READ_LEN,.READ_TYPE);INSDC:2cs:bin out_dcmp_2cs_bin=&lt;INSDC:x2cs:bin,INSDC:2cs:bin&gt;map#1&lt;[0,1,2,3,4],[0,1,2,3,0]&gt;(out_dcmp_x2cs_bin);INSDC:x2na:bin out_dcmp_x2na_bin=&lt;INSDC:4na:bin,INSDC:x2na:bin&gt;map#1&lt;[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15],[4,0,1,4,2,4,4,4,3,4,4,4,4,4,4,4]&gt;(out_dcmp_4na_bin);INSDC:x2cs:bin out_dcmp_x2na_x2cs_bin=NCBI:color_from_dna#1(out_dcmp_x2na_bin,.READ_START,.READ_LEN,.CS_KEY,color_matrix);INSDC:coord:len aligned_read_len=&lt;INSDC:coord:len&gt;NCBI:align:make_cmp_read_desc#1&lt;false&gt;(.READ_LEN,.PRIMARY_ALIGNMENT_ID);INSDC:x2cs:bin out_dcmp_x2cs_bin=&lt;INSDC:x2cs:bin&gt;NCBI:align:seq_construct_read#1(out_dcmp_x2na_x2cs_bin,.READ_LEN,out_cmp_x2cs_bin,cmp_read_len);U32 cmp_csread_row_len=row_len#1(phys_cmp_2cs_packed);U32 cmp_csread_not_zero=&lt;U32&gt;clip#1&lt;0,1&gt;(cmp_csread_row_len);U8 color_matrix=&lt;U8&gt;echo#1&lt;[0,1,2,3,4,1,0,3,2,4,2,3,0,1,4,3,2,1,0,4,4,4,4,4,4]&gt;();INSDC:coord:len spot_len=(INSDC:coord:len)row_len#1(out_dcmp_4na_bin)|(INSDC:coord:len)row_len#1(out_4na_bin);U64 base_count=&lt;U64&gt;meta:value#1&lt;'STATS/TABLE/BASE_COUNT'&gt;();I64 rowid_64=row_id#1();}table NCBI:align:tbl:reference#2=NCBI:align:tbl:cmp_base_space#1,NCBI:tbl:base_space#2.0.3,NCBI:tbl:seqloc#1,NCBI:SRA:tbl:stats#1.2{column &lt;U32&gt;izip_encoding#1 MAX_SEQ_LEN;column bool_encoding#1 CIRCULAR;column utf8 NAME = out_spot_name_utf8;column &lt;U8&gt;izip_encoding#1 CGRAPH_HIGH;column &lt;U8&gt;izip_encoding#1 CGRAPH_LOW;column &lt;U32&gt;izip_encoding#1 CGRAPH_MISMATCHES;column &lt;U32&gt;izip_encoding#1 CGRAPH_INDELS;column &lt;I64&gt;izip_encoding#1 PRIMARY_ALIGNMENT_IDS;column &lt;I64&gt;izip_encoding#1 SECONDARY_ALIGNMENT_IDS;column &lt;I64&gt;izip_encoding#1 EVIDENCE_INTERVAL_IDS;column &lt;INSDC:coord:zero&gt;izip_encoding#1 OVERLAP_REF_POS;column &lt;INSDC:coord:len&gt;izip_encoding#1 OVERLAP_REF_LEN;readonly column vdb:row_id_range NAME_RANGE = idx:text:lookup#1&lt;'i_name','QUERY_SEQ_NAME'&gt;();INSDC:quality:phred out_qual_phred=&lt;INSDC:quality:phred&gt;echo#1&lt;30&gt;(out_dcmp_4na_bin);INSDC:dna:text in_cs_key=&lt;INSDC:dna:text,INSDC:dna:text&gt;map#1&lt;'acgtn','ACGTN'&gt;(CS_KEY);U32 in_spot_len=SEQ_LEN;INSDC:coord:len _alt_in_read_len=READ_LEN|SEQ_LEN;INSDC:SRA:xread_type _alt_in_read_type=READ_TYPE|&lt;INSDC:SRA:xread_type&gt;echo#1&lt;1&gt;();INSDC:coord:zero out_read_start=&lt;INSDC:coord:zero&gt;echo#1&lt;0&gt;();INSDC:coord:len out_read_len=.SEQ_LEN;utf8 out_spot_name_utf8=idx:text:project#1&lt;'i_name'&gt;(.NAME);ascii out_spot_name=cast#1(out_spot_name_utf8);INSDC:coord:zero trim_start=&lt;INSDC:coord:zero&gt;echo#1&lt;0&gt;();INSDC:coord:len trim_len=base_space_spot_len;ascii out_label=&lt;ascii&gt;echo#1&lt;'reference'&gt;();INSDC:coord:zero out_label_start=&lt;INSDC:coord:zero&gt;echo#1&lt;0&gt;();INSDC:coord:len out_label_len=&lt;INSDC:coord:len&gt;echo#1&lt;9&gt;();U32 out_nreads=&lt;U32&gt;echo#1&lt;1&gt;();INSDC:SRA:xread_type out_read_type=&lt;INSDC:SRA:xread_type&gt;echo#1&lt;3&gt;();INSDC:SRA:read_filter out_rd_filter=&lt;INSDC:SRA:read_filter&gt;echo#1&lt;0&gt;();INSDC:4na:bin out_dcmp_4na_bin=NCBI:align:ref_restore_read#1(out_cmp_4na_bin,.SEQ_ID,.SEQ_START,.SEQ_LEN);physical column &lt;INSDC:dna:text&gt;zip_encoding#1 .CS_KEY=in_cs_key;physical column utf8 .NAME=idx:text:insert#1&lt;'i_name'&gt;(NAME);}database NCBI:align:db:alignment_sorted#1.3
   {
   	table NCBI:align:tbl:reference#2 REFERENCE;
   	table NCBI:align:tbl:align_sorted#1.2 PRIMARY_ALIGNMENT;
   	table NCBI:align:tbl:align_mate_sorted#1.1 SECONDARY_ALIGNMENT;
   	table NCBI:align:tbl:seq#1 SEQUENCE;
   	table NCBI:align:view:cs_seq#1.1 CS_SEQUENCE;
   	table NCBI:align:tbl:qstat#1 QUAL_STAT;
   }
  '
</schema>
